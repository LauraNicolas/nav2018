OBJECT Page 1707 Deferral Sched. Arch. Subform
{
  OBJECT-PROPERTIES
  {
    Date=20171006D;
    Time=120000T;
    Version List=NAVW111.0;
  }
  PROPERTIES
  {
    CaptionML=ENU=Deferral Schedule Detail;
    SourceTable="Deferral Line Archive";
    PageType=ListPart;
    OnAfterGetRecord=BEGIN
                       Changed := false;
                     END;

    OnNewRecord=BEGIN
                  UpdateTotal;
                END;

    OnAfterGetCurrRecord=BEGIN
                           UpdateTotal;
                         END;

  }
  CONTROLS
  {
    { 1   ;    ;Container ;
                Name=Container1;
                ContainerType=ContentArea }

    { 2   ;1   ;Group     ;
                Name=Group;
                GroupType=Repeater }

    { 3   ;2   ;Field     ;
                Name=Posting Date;
                ToolTipML=ENU=Specifies the posting date for the entry.;
                ApplicationArea=#Suite;
                SourceExpr="Posting Date";
                ImplicitType=Date }

    { 4   ;2   ;Field     ;
                Name=Description;
                ToolTipML=ENU=Specifies a description of the record.;
                ApplicationArea=#Suite;
                SourceExpr=Description;
                ImplicitType=Text50 }

    { 5   ;2   ;Field     ;
                Name=Amount;
                ToolTipML=ENU=Specifies the line's net amount.;
                ApplicationArea=#Suite;
                SourceExpr=Amount;
                ImplicitType=Decimal }

    { 8   ;1   ;Group     ;
                Name=Group8;
                GroupType=Group }

    { 7   ;2   ;Group     ;
                Name=Group7;
                GroupType=Group }

    { 6   ;3   ;Field     ;
                Name=TotalDeferral;
                CaptionML=ENU=Total Amount to Defer;
                ToolTipML=ENU=Specifies the total amount to defer.;
                ApplicationArea=#Suite;
                SourceExpr=TotalDeferral;
                Enabled=FALSE;
                Editable=FALSE;
                ImplicitType=Decimal }

  }
  CODE
  {
    VAR
      TotalDeferral@1002 : Decimal;
      Changed@1000 : Boolean;

    LOCAL PROCEDURE UpdateTotal@1();
    BEGIN
      CalcTotal(Rec,TotalDeferral);
    END;

    LOCAL PROCEDURE CalcTotal@2(VAR DeferralLineArchive@1005 : Record "Deferral Line Archive";VAR TotalDeferral@1002 : Decimal);
    VAR
      DeferralLineArchiveTemp@1006 : Record "Deferral Line Archive";
      ShowTotalDeferral@1000 : Boolean;
    BEGIN
      DeferralLineArchiveTemp.COPYFILTERS(DeferralLineArchive);
      ShowTotalDeferral := DeferralLineArchiveTemp.CALCSUMS(Amount);
      if ShowTotalDeferral then
        TotalDeferral := DeferralLineArchiveTemp.Amount;
    END;

    [External]
    PROCEDURE GetChanged@3() : Boolean;
    BEGIN
      exit(Changed);
    END;

    BEGIN
    END.
  }
}

