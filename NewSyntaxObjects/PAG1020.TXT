OBJECT Page 1020 Job G/L Journal
{
  OBJECT-PROPERTIES
  {
    Date=20171006D;
    Time=120000T;
    Version List=NAVW111.0;
  }
  PROPERTIES
  {
    CaptionML=ENU=Job G/L Journal;
    SaveValues=true;
    SourceTable="Gen. Journal Line";
    DelayedInsert=true;
    DataCaptionFields="Journal Batch Name";
    PageType=Worksheet;
    AutoSplitKey=true;
    PromotedActionCategoriesML=ENU=New,Process,Report,Page;
    OnInit=BEGIN
             TotalBalanceVisible := true;
             BalanceVisible := true;
             AmountVisible := true;
           END;

    OnOpenPage=VAR
                 ServerConfigSettingHandler@1001 : Codeunit "Server Config. Setting Handler";
                 JnlSelected@1000 : Boolean;
               BEGIN
                 PreviewGuid := CREATEGUID;

                 IsSaasExcelAddinEnabled := ServerConfigSettingHandler.GetIsSaasExcelAddinEnabled;
                 if CURRENTCLIENTTYPE = CLIENTTYPE::ODataV4 then
                   exit;

                 if IsOpenedFromBatch then begin
                   CurrentJnlBatchName := "Journal Batch Name";
                   GenJnlManagement.OpenJnl(CurrentJnlBatchName,Rec);
                   exit;
                 end;
                 GenJnlManagement.TemplateSelection(PAGE::"Job G/L Journal",7,false,Rec,JnlSelected);
                 if not JnlSelected then
                   ERROR('');
                 GenJnlManagement.OpenJnl(CurrentJnlBatchName,Rec);

                 ShowAmounts;
               END;

    OnAfterGetRecord=BEGIN
                       ShowShortcutDimCode(ShortcutDimCode);
                     END;

    OnNewRecord=BEGIN
                  UpdateBalance;
                  SetUpNewLine(xRec,Balance,BelowxRec);
                  CLEAR(ShortcutDimCode);
                  CLEAR(AccName);
                END;

    OnInsertRecord=BEGIN
                     PreviewGuid := CREATEGUID;
                   END;

    OnModifyRecord=BEGIN
                     PreviewGuid := CREATEGUID;
                   END;

    OnDeleteRecord=BEGIN
                     PreviewGuid := CREATEGUID;
                   END;

    OnAfterGetCurrRecord=BEGIN
                           GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                           UpdateBalance;
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      Name=ActionContainer1900000003;
                      ActionContainerType=RelatedInformation }
      { 75      ;1   ;ActionGroup;
                      Name=&Line;
                      CaptionML=ENU=&Line;
                      Image=Line }
      { 76      ;2   ;Action    ;
                      Name=Dimensions;
                      AccessByPermission=TableData Dimension=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=ENU=Dimensions;
                      ToolTipML=ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                      ApplicationArea=#Jobs;
                      Image=Dimensions;
                      OnAction=BEGIN
                                 ShowDimensions;
                                 CurrPage.SAVERECORD;
                               END;
                                }
      { 43      ;1   ;ActionGroup;
                      Name=A&ccount;
                      CaptionML=ENU=A&ccount;
                      Image=ChartOfAccounts }
      { 44      ;2   ;Action    ;
                      Name=Card;
                      ShortCutKey=Shift+F7;
                      CaptionML=ENU=Card;
                      ToolTipML=ENU=View or change detailed information about the record on the document or journal line.;
                      ApplicationArea=#Jobs;
                      RunObject=Codeunit "Gen. Jnl.-Show Card";
                      Image=EditLines }
      { 45      ;2   ;Action    ;
                      Name=Ledger E&ntries;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=ENU=Ledger E&ntries;
                      ToolTipML=ENU=View the history of transactions that have been posted for the selected record.;
                      ApplicationArea=#Jobs;
                      RunObject=Codeunit "Gen. Jnl.-Show Entries";
                      Promoted=false;
                      Image=GLRegisters;
                      PromotedCategory=Process }
      { 1900000004;0 ;ActionContainer;
                      Name=ActionContainer1900000004;
                      ActionContainerType=ActionItems }
      { 7       ;1   ;ActionGroup;
                      Name=F&unctions;
                      CaptionML=ENU=F&unctions }
      { 9       ;2   ;Action    ;
                      Name=Renumber Document Numbers;
                      CaptionML=ENU=Renumber Document Numbers;
                      ToolTipML=ENU=Resort the numbers in the Document No. column to avoid posting errors because the document numbers are not in sequence. Entry applications and line groupings are preserved.;
                      ApplicationArea=#Jobs;
                      Image=EditLines;
                      OnAction=BEGIN
                                 RenumberDocumentNo
                               END;
                                }
      { 47      ;1   ;ActionGroup;
                      Name=P&osting;
                      CaptionML=ENU=P&osting;
                      Image=Post }
      { 48      ;2   ;Action    ;
                      Name=Reconcile;
                      ShortCutKey=Ctrl+F11;
                      CaptionML=ENU=Reconcile;
                      ToolTipML=ENU=View what has been reconciled for the job. The window shows the quantity entered on the job journal lines, totaled by unit of measure and by work type.;
                      ApplicationArea=#Jobs;
                      Image=Reconcile;
                      OnAction=BEGIN
                                 GLReconcile.SetGenJnlLine(Rec);
                                 GLReconcile.RUN;
                               END;
                                }
      { 49      ;2   ;Action    ;
                      Name=Test Report;
                      Ellipsis=true;
                      CaptionML=ENU=Test Report;
                      ToolTipML=ENU=View a test report so that you can find and correct any errors before you perform the actual posting of the journal or document.;
                      ApplicationArea=#Jobs;
                      Image=TestReport;
                      OnAction=BEGIN
                                 ReportPrint.PrintGenJnlLine(Rec);
                               END;
                                }
      { 50      ;2   ;Action    ;
                      Name=P&ost;
                      ShortCutKey=F9;
                      CaptionML=ENU=P&ost;
                      ToolTipML=ENU=Finalize the document or journal by posting the amounts and quantities to the related accounts in your company books.;
                      ApplicationArea=#Jobs;
                      Promoted=true;
                      PromotedIsBig=true;
                      Image=PostOrder;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Gen. Jnl.-Post",Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(false);
                               END;
                                }
      { 11      ;2   ;Action    ;
                      Name=Preview;
                      CaptionML=ENU=Preview Posting;
                      ToolTipML=ENU=Review the different types of entries that will be created when you post the document or journal.;
                      ApplicationArea=#Jobs;
                      Image=ViewPostedOrder;
                      OnAction=VAR
                                 GenJnlPost@1001 : Codeunit "Gen. Jnl.-Post";
                               BEGIN
                                 GenJnlPost.Preview(Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(false);
                               END;
                                }
      { 51      ;2   ;Action    ;
                      Name=Post and &Print;
                      ShortCutKey=Shift+F9;
                      CaptionML=ENU=Post and &Print;
                      ToolTipML=ENU=Finalize and prepare to print the document or journal. The values and quantities are posted to the related accounts. A report request window where you can specify what to include on the print-out.;
                      ApplicationArea=#Jobs;
                      Promoted=true;
                      PromotedIsBig=true;
                      Image=PostPrint;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Gen. Jnl.-Post+Print",Rec);
                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
                                 CurrPage.UPDATE(false);
                               END;
                                }
      { 19      ;1   ;ActionGroup;
                      Name=Page;
                      CaptionML=ENU=Page }
      { 17      ;2   ;Action    ;
                      Name=EditInExcel;
                      CaptionML=ENU=Edit in Excel;
                      ToolTipML=ENU=Send the data in the journal to an Excel file for analysis or editing.;
                      ApplicationArea=#Basic,#Suite;
                      Promoted=true;
                      Visible=IsSaasExcelAddinEnabled;
                      PromotedIsBig=true;
                      Image=Excel;
                      PromotedCategory=Category4;
                      PromotedOnly=true;
                      OnAction=VAR
                                 ODataUtility@1000 : Codeunit ODataUtility;
                               BEGIN
                                 ODataUtility.EditJournalWorksheetInExcel(CurrPage.CAPTION,CurrPage.OBJECTID(false),"Journal Batch Name","Journal Template Name");
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                Name=Container1900000001;
                ContainerType=ContentArea }

    { 39  ;1   ;Field     ;
                Name=CurrentJnlBatchName;
                Lookup=true;
                CaptionML=ENU=Batch Name;
                ToolTipML=ENU=Specifies the name of the journal batch.;
                ApplicationArea=#Jobs;
                SourceExpr=CurrentJnlBatchName;
                OnValidate=BEGIN
                             PreviewGuid := CREATEGUID;
                             GenJnlManagement.CheckName(CurrentJnlBatchName,Rec);
                             CurrentJnlBatchNameOnAfterVali;
                           END;

                OnLookup=BEGIN
                           PreviewGuid := CREATEGUID;
                           CurrPage.SAVERECORD;
                           GenJnlManagement.LookupName(CurrentJnlBatchName,Rec);
                           CurrPage.UPDATE(false);
                         END;

                ImplicitType=Code10 }

    { 1   ;1   ;Group     ;
                Name=Group1;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                Name=Posting Date;
                ToolTipML=ENU=Specifies the posting date for the entry.;
                ApplicationArea=#Jobs;
                SourceExpr="Posting Date";
                ImplicitType=Date }

    { 83  ;2   ;Field     ;
                Name=Document Date;
                ToolTipML=ENU=Specifies the date on the document that provides the basis for the entry on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Document Date";
                Visible=FALSE;
                ImplicitType=Date }

    { 4   ;2   ;Field     ;
                Name=Document Type;
                ToolTipML=ENU=Specifies the type of document that the entry on the journal line is.;
                ApplicationArea=#Jobs;
                SourceExpr="Document Type";
                ImplicitType=Option }

    { 6   ;2   ;Field     ;
                Name=Document No.;
                ToolTipML=ENU=Specifies a document number for the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Document No.";
                ImplicitType=Code20 }

    { 81  ;2   ;Field     ;
                Name=External Document No.;
                ToolTipML=ENU=Specifies a document number that refers to the customer's or vendor's numbering system.;
                ApplicationArea=#Jobs;
                SourceExpr="External Document No.";
                Visible=FALSE;
                ImplicitType=Code35 }

    { 8   ;2   ;Field     ;
                Name=Account Type;
                ToolTipML=ENU=Specifies the type of account that the entry on the journal line will be posted to.;
                ApplicationArea=#Jobs;
                SourceExpr="Account Type";
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                           END;

                ImplicitType=Option }

    { 10  ;2   ;Field     ;
                Name=Account No.;
                ToolTipML=ENU=Specifies the account number that the entry on the journal line will be posted to.;
                ApplicationArea=#Jobs;
                SourceExpr="Account No.";
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                             ShowShortcutDimCode(ShortcutDimCode);
                           END;

                ImplicitType=Code20 }

    { 12  ;2   ;Field     ;
                Name=Description;
                ToolTipML=ENU=Specifies a description of the entry.;
                ApplicationArea=#Jobs;
                SourceExpr=Description;
                ImplicitType=Text50 }

    { 71  ;2   ;Field     ;
                Name=Business Unit Code;
                ToolTipML=ENU=Specifies the code for the business unit that the job entry is linked to.;
                ApplicationArea=#Advanced;
                SourceExpr="Business Unit Code";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 65  ;2   ;Field     ;
                Name=Salespers./Purch. Code;
                ToolTipML=ENU=Specifies the salesperson or purchaser who is linked to the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Salespers./Purch. Code";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 93  ;2   ;Field     ;
                Name=Campaign No.;
                ToolTipML=ENU=Specifies the number of the campaign the journal line is linked to.;
                ApplicationArea=#RelationshipMgmt;
                SourceExpr="Campaign No.";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 67  ;2   ;Field     ;
                Name=Currency Code;
                AssistEdit=true;
                ToolTipML=ENU=Specifies the code of the currency for the amounts on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Currency Code";
                Visible=FALSE;
                OnAssistEdit=BEGIN
                               ChangeExchangeRate.SetParameter("Currency Code","Currency Factor","Posting Date");
                               if ChangeExchangeRate.RUNMODAL = ACTION::OK then
                                 VALIDATE("Currency Factor",ChangeExchangeRate.GetParameter);

                               CLEAR(ChangeExchangeRate);
                             END;

                ImplicitType=Code10 }

    { 14  ;2   ;Field     ;
                Name=Gen. Posting Type;
                ToolTipML=ENU=Specifies the general posting type that will be used when you post the entry on this journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Gen. Posting Type";
                ImplicitType=Option }

    { 77  ;2   ;Field     ;
                Name=Gen. Bus. Posting Group;
                ToolTipML=ENU=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.;
                ApplicationArea=#Jobs;
                SourceExpr="Gen. Bus. Posting Group";
                ImplicitType=Code20 }

    { 16  ;2   ;Field     ;
                Name=Gen. Prod. Posting Group;
                ToolTipML=ENU=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.;
                ApplicationArea=#Jobs;
                SourceExpr="Gen. Prod. Posting Group";
                ImplicitType=Code20 }

    { 41  ;2   ;Field     ;
                Name=VAT Bus. Posting Group;
                ToolTipML=ENU=Specifies the vendor's VAT specification to link transactions made for this vendor with the appropriate general ledger account according to the VAT posting setup.;
                ApplicationArea=#Jobs;
                SourceExpr="VAT Bus. Posting Group";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 85  ;2   ;Field     ;
                Name=VAT Prod. Posting Group;
                ToolTipML=ENU=Specifies the VAT product posting group. Links business transactions made for the item, resource, or G/L account with the general ledger, to account for VAT amounts resulting from trade with that record.;
                ApplicationArea=#Jobs;
                SourceExpr="VAT Prod. Posting Group";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 121 ;2   ;Field     ;
                Name=VAT %;
                ToolTipML=ENU=Specifies the relevant VAT rate for the particular combination of VAT business posting group and VAT product posting group. Do not enter the percent sign, only the number. For example, if the VAT rate is 25 %, enter 25 in this field.;
                ApplicationArea=#Jobs;
                SourceExpr="VAT %";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 18  ;2   ;Field     ;
                Name=Amount;
                ToolTipML=ENU=Specifies the total amount (including VAT) that the journal line consists of.;
                ApplicationArea=#Jobs;
                SourceExpr=Amount;
                Visible=AmountVisible;
                ImplicitType=Decimal }

    { 21  ;2   ;Field     ;
                Name=Amount (LCY);
                ToolTipML=ENU=Specifies the total amount in local currency (including VAT) that the journal line consists of.;
                ApplicationArea=#Jobs;
                SourceExpr="Amount (LCY)";
                Visible=AmountVisible;
                ImplicitType=Decimal }

    { 13  ;2   ;Field     ;
                Name=Debit Amount;
                ToolTipML=ENU=Specifies the total of the journal lines that represent debits.;
                ApplicationArea=#Jobs;
                SourceExpr="Debit Amount";
                Visible=DebitCreditVisible;
                ImplicitType=Decimal }

    { 15  ;2   ;Field     ;
                Name=Credit Amount;
                ToolTipML=ENU=Specifies the total of the journal lines that represent credits.;
                ApplicationArea=#Jobs;
                SourceExpr="Credit Amount";
                Visible=DebitCreditVisible;
                ImplicitType=Decimal }

    { 101 ;2   ;Field     ;
                Name=VAT Amount;
                ToolTipML=ENU=Specifies the amount of VAT included in the total amount.;
                ApplicationArea=#Jobs;
                SourceExpr="VAT Amount";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 99  ;2   ;Field     ;
                Name=VAT Difference;
                ToolTipML=ENU=Specifies the difference between the calculate VAT amount and the VAT amount that you have entered manually.;
                ApplicationArea=#Jobs;
                SourceExpr="VAT Difference";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 103 ;2   ;Field     ;
                Name=Bal. VAT Amount;
                ToolTipML=ENU=Specifies the amount of Bal. VAT included in the total amount.;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. VAT Amount";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 105 ;2   ;Field     ;
                Name=Bal. VAT Difference;
                ToolTipML=ENU=Specifies the difference between the calculate VAT amount and the VAT amount that you have entered manually.;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. VAT Difference";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 53  ;2   ;Field     ;
                Name=Bal. Account Type;
                ToolTipML=ENU=Specifies the code for the balancing account type that should be used in this journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Account Type";
                ImplicitType=Option }

    { 55  ;2   ;Field     ;
                Name=Bal. Account No.;
                ToolTipML=ENU=Specifies the number of the general ledger, customer, vendor, or bank account to which a balancing entry for the journal line will posted (for example, a cash account for cash purchases).;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Account No.";
                OnValidate=BEGIN
                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
                             ShowShortcutDimCode(ShortcutDimCode);
                           END;

                ImplicitType=Code20 }

    { 57  ;2   ;Field     ;
                Name=Bal. Gen. Posting Type;
                ToolTipML=ENU=Specifies the general posting type associated with the balancing account that will be used when you post the entry on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Gen. Posting Type";
                ImplicitType=Option }

    { 79  ;2   ;Field     ;
                Name=Bal. Gen. Bus. Posting Group;
                ToolTipML=ENU=Specifies the general business posting group code associated with the balancing account that will be used when you post the entry.;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Gen. Bus. Posting Group";
                ImplicitType=Code20 }

    { 59  ;2   ;Field     ;
                Name=Bal. Gen. Prod. Posting Group;
                ToolTipML=ENU=Specifies the general product posting group code associated with the balancing account that will be used when you post the entry.;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. Gen. Prod. Posting Group";
                ImplicitType=Code20 }

    { 87  ;2   ;Field     ;
                Name=Bal. VAT Bus. Posting Group;
                ToolTipML=ENU=Specifies the code of the VAT business posting group that will be used when you post the entry on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. VAT Bus. Posting Group";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 89  ;2   ;Field     ;
                Name=Bal. VAT Prod. Posting Group;
                ToolTipML=ENU=Specifies the code of the VAT product posting group that will be used when you post the entry on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Bal. VAT Prod. Posting Group";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 95  ;2   ;Field     ;
                Name=Bill-to/Pay-to No.;
                ToolTipML=ENU=Specifies the number of the bill-to customer or pay-to vendor that the entry is linked to.;
                ApplicationArea=#Jobs;
                SourceExpr="Bill-to/Pay-to No.";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 97  ;2   ;Field     ;
                Name=Ship-to/Order Address Code;
                ToolTipML=ENU=Specifies the address code of the ship-to customer or order-from vendor that the entry is linked to.;
                ApplicationArea=#Jobs;
                SourceExpr="Ship-to/Order Address Code";
                Visible=FALSE;
                ImplicitType=Code10 }

    { 61  ;2   ;Field     ;
                Name=Shortcut Dimension 1 Code;
                ToolTipML=ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                ApplicationArea=#Jobs;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 63  ;2   ;Field     ;
                Name=Shortcut Dimension 2 Code;
                ToolTipML=ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                ApplicationArea=#Jobs;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 300 ;2   ;Field     ;
                Name=ShortcutDimCode[3];
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[3];
                CaptionClass='1,2,3';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(3),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(3,ShortcutDimCode[3]);
                           END;
                            }

    { 302 ;2   ;Field     ;
                Name=ShortcutDimCode[4];
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[4];
                CaptionClass='1,2,4';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(4),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(4,ShortcutDimCode[4]);
                           END;
                            }

    { 304 ;2   ;Field     ;
                Name=ShortcutDimCode[5];
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[5];
                CaptionClass='1,2,5';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(5),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(5,ShortcutDimCode[5]);
                           END;
                            }

    { 306 ;2   ;Field     ;
                Name=ShortcutDimCode[6];
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[6];
                CaptionClass='1,2,6';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(6),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(6,ShortcutDimCode[6]);
                           END;
                            }

    { 308 ;2   ;Field     ;
                Name=ShortcutDimCode[7];
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[7];
                CaptionClass='1,2,7';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(7),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(7,ShortcutDimCode[7]);
                           END;
                            }

    { 310 ;2   ;Field     ;
                Name=ShortcutDimCode[8];
                ApplicationArea=#Jobs;
                SourceExpr=ShortcutDimCode[8];
                CaptionClass='1,2,8';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(8),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(8,ShortcutDimCode[8]);
                           END;
                            }

    { 69  ;2   ;Field     ;
                Name=Payment Terms Code;
                ToolTipML=ENU=Specifies the code that represents the payments terms that apply to the entry on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Payment Terms Code";
                Visible=FALSE;
                ImplicitType=Code10 }

    { 24  ;2   ;Field     ;
                Name=Applies-to Doc. Type;
                ToolTipML=ENU=Specifies the type of the posted document that this document or journal line will be applied to when you post, for example to register payment.;
                ApplicationArea=#Jobs;
                SourceExpr="Applies-to Doc. Type";
                Visible=FALSE;
                ImplicitType=Option }

    { 26  ;2   ;Field     ;
                Name=Applies-to Doc. No.;
                ToolTipML=ENU=Specifies the number of the posted document that this document or journal line will be applied to when you post, for example to register payment.;
                ApplicationArea=#Jobs;
                SourceExpr="Applies-to Doc. No.";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 22  ;2   ;Field     ;
                Name=Applies-to ID;
                ToolTipML=ENU=Specifies the ID of entries that will be applied to when you choose the Apply Entries action.;
                ApplicationArea=#Jobs;
                SourceExpr="Applies-to ID";
                Visible=FALSE;
                ImplicitType=Code50 }

    { 28  ;2   ;Field     ;
                Name=On Hold;
                ToolTipML=ENU=Specifies if the journal line has been invoiced, and you execute the payment suggestions batch job, or you create a finance charge memo or reminder.;
                ApplicationArea=#Jobs;
                SourceExpr="On Hold";
                Visible=FALSE;
                ImplicitType=Code3 }

    { 20  ;2   ;Field     ;
                Name=Bank Payment Type;
                ToolTipML=ENU=Specifies the code for the payment type to be used for the entry on the payment journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Bank Payment Type";
                Visible=FALSE;
                ImplicitType=Option }

    { 73  ;2   ;Field     ;
                Name=Reason Code;
                ToolTipML=ENU=Specifies the reason code that has been entered on the journal lines.;
                ApplicationArea=#Jobs;
                SourceExpr="Reason Code";
                Visible=FALSE;
                ImplicitType=Code10 }

    { 123 ;2   ;Field     ;
                Name=Job No.;
                ToolTipML=ENU=Specifies the number of the related job.;
                ApplicationArea=#Jobs;
                SourceExpr="Job No.";
                OnValidate=BEGIN
                             ShowShortcutDimCode(ShortcutDimCode);
                           END;

                ImplicitType=Code20 }

    { 109 ;2   ;Field     ;
                Name=Job Task No.;
                ToolTipML=ENU=Specifies the number of the related job task.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Task No.";
                OnValidate=BEGIN
                             if JobTaskIsSet then
                               ShowShortcutDimCode(ShortcutDimCode);
                           END;

                ImplicitType=Code20 }

    { 5   ;2   ;Field     ;
                Name=Job Planning Line No.;
                ToolTipML=ENU=Specifies the job planning line number to which the usage should be linked when the Job Journal is posted. You can only link to Job Planning Lines that have the Apply Usage Link option enabled.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Planning Line No.";
                Visible=FALSE;
                ImplicitType=Integer }

    { 111 ;2   ;Field     ;
                Name=Job Line Type;
                ToolTipML=ENU=Specifies the type of planning line that was created when the job ledger entry is posted. If the field is empty, no planning lines were created for this entry.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Type";
                ImplicitType=Option }

    { 107 ;2   ;Field     ;
                Name=Job Unit Of Measure Code;
                ToolTipML=ENU=Specifies the unit of measure code that is used to determine the unit price. This code specifies how the quantity is measured, for example, by the box or by the piece. The application retrieves this code from the corresponding item or resource card.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Of Measure Code";
                Visible=FALSE;
                ImplicitType=Code10 }

    { 115 ;2   ;Field     ;
                Name=Job Quantity;
                ToolTipML=ENU=Specifies the quantity for the job ledger entry that is derived from posting the journal line. If the Job Quantity is 0, the total amount on the job ledger entry will also be 0.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Quantity";
                ImplicitType=Decimal }

    { 46  ;2   ;Field     ;
                Name=Job Unit Cost;
                ToolTipML=ENU=Specifies the job cost of one unit of the item or resource on the journal line. The value is calculated as follows: Job Total Cost (LCY) / Job Quantity.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Cost";
                ImplicitType=Decimal }

    { 117 ;2   ;Field     ;
                Name=Job Unit Cost (LCY);
                ToolTipML=ENU=Specifies the job cost of one unit of the item or resource on the journal line, in the local currency. The value is calculated as follows: Job Total Cost (LCY) / Job Quantity.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Cost (LCY)";
                ImplicitType=Decimal }

    { 126 ;2   ;Field     ;
                Name=Job Total Cost;
                ToolTipML=ENU=Specifies if you have assigned a job number and a job task number to the journal line. It shows the amount excluding VAT divided by the job quantity for the journal line. The amount is shown in the currency specified for the job. The value field is calculated as follows: (Amount - VAT Amount) x (Job Currency Rate/Currency Rate).;
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Cost";
                ImplicitType=Decimal }

    { 141 ;2   ;Field     ;
                Name=Job Total Cost (LCY);
                ToolTipML=ENU=Specifies the job total cost if you have assigned a job number and a job task number to the journal line. It shows the Amount (LCY) excluding VAT Amount (LCY)for the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Cost (LCY)";
                ImplicitType=Decimal }

    { 129 ;2   ;Field     ;
                Name=Job Unit Price;
                ToolTipML=ENU=Specifies the unit price for the selected account type and account number on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Price";
                ImplicitType=Decimal }

    { 91  ;2   ;Field     ;
                Name=Job Unit Price (LCY);
                ToolTipML=ENU=Specifies the unit price, in the local currency, for the selected account type and account number on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Price (LCY)";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 139 ;2   ;Field     ;
                Name=Job Line Amount;
                ToolTipML=ENU=Specifies the line amount of the job ledger entry.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Amount";
                ImplicitType=Decimal }

    { 134 ;2   ;Field     ;
                Name=Job Line Amount (LCY);
                ToolTipML=ENU=Specifies the line amount of the job ledger entry.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Amount (LCY)";
                ImplicitType=Decimal }

    { 137 ;2   ;Field     ;
                Name=Job Line Discount Amount;
                ToolTipML=ENU=Specifies the line discount amount of the job ledger entry.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Discount Amount";
                ImplicitType=Decimal }

    { 119 ;2   ;Field     ;
                Name=Job Line Discount %;
                ToolTipML=ENU=Specifies the line discount percentage of the job ledger entry that is related to the purchase line.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Discount %";
                ImplicitType=Decimal }

    { 113 ;2   ;Field     ;
                Name=Job Total Price;
                ToolTipML=ENU=Specifies the total price for the journal line. The value is calculated as follows: Quantity x Unit Price (LCY).;
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Price";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 128 ;2   ;Field     ;
                Name=Job Total Price (LCY);
                ToolTipML=ENU=Specifies the total price for the journal line, in the local currency. The value is calculated as follows: Quantity x Unit Price (LCY).;
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Price (LCY)";
                ImplicitType=Decimal }

    { 3   ;2   ;Field     ;
                Name=Job Remaining Qty.;
                ToolTipML=ENU=Specifies the quantity that remains to complete a job.;
                ApplicationArea=#Jobs;
                SourceExpr="Job Remaining Qty.";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 30  ;1   ;Group     ;
                Name=Group30 }

    { 1901776101;2;Group  ;
                Name=Group1901776101;
                GroupType=FixedLayout }

    { 1900545301;3;Group  ;
                Name=Account Name;
                CaptionML=ENU=Account Name }

    { 35  ;4   ;Field     ;
                Name=AccName;
                ApplicationArea=#Jobs;
                SourceExpr=AccName;
                Editable=FALSE;
                ImplicitType=Text50;
                ShowCaption=false }

    { 1900295701;3;Group  ;
                Name=Bal. Account Name;
                CaptionML=ENU=Bal. Account Name }

    { 37  ;4   ;Field     ;
                Name=BalAccName;
                CaptionML=ENU=Bal. Account Name;
                ToolTipML=ENU=Specifies the name of the balancing account that has been entered on the journal line.;
                ApplicationArea=#Jobs;
                SourceExpr=BalAccName;
                Editable=FALSE;
                ImplicitType=Text50 }

    { 1902759701;3;Group  ;
                Name=Group1902759701;
                CaptionML=ENU=Balance }

    { 31  ;4   ;Field     ;
                Name=Balance;
                CaptionML=ENU=Balance;
                ToolTipML=ENU=Specifies the balance that has accumulated in the journal on the line that you selected.;
                ApplicationArea=#All;
                SourceExpr=Balance + "Balance (LCY)" - xRec."Balance (LCY)";
                AutoFormatType=1;
                Visible=BalanceVisible;
                Editable=FALSE }

    { 1901652501;3;Group  ;
                Name=Total Balance;
                CaptionML=ENU=Total Balance }

    { 33  ;4   ;Field     ;
                Name=TotalBalance;
                CaptionML=ENU=Total Balance;
                ToolTipML=ENU=Specifies the total balance in the journal.;
                ApplicationArea=#All;
                SourceExpr=TotalBalance + "Balance (LCY)" - xRec."Balance (LCY)";
                AutoFormatType=1;
                Visible=TotalBalanceVisible;
                Editable=FALSE }

    { 1900000007;0;Container;
                Name=Container1900000007;
                ContainerType=FactBoxArea }

    { 1900383207;1;Part   ;
                Name=Part1900383207;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Name=Part1905767507;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      GenJnlManagement@1002 : Codeunit GenJnlManagement;
      ReportPrint@1003 : Codeunit "Test Report-Print";
      ChangeExchangeRate@1001 : Page "Change Exchange Rate";
      GLReconcile@1000 : Page Reconciliation;
      CurrentJnlBatchName@1004 : Code[10];
      AccName@1005 : Text[50];
      BalAccName@1006 : Text[50];
      Balance@1007 : Decimal;
      TotalBalance@1008 : Decimal;
      ShowBalance@1009 : Boolean;
      ShowTotalBalance@1010 : Boolean;
      ShortcutDimCode@1011 : ARRAY [8] OF Code[20];
      BalanceVisible@19073040 : Boolean INDATASET;
      TotalBalanceVisible@19063333 : Boolean INDATASET;
      AmountVisible@1015 : Boolean;
      DebitCreditVisible@1014 : Boolean;
      PreviewGuid@1013 : GUID;
      IsSaasExcelAddinEnabled@1012 : Boolean;

    LOCAL PROCEDURE UpdateBalance@1();
    BEGIN
      GenJnlManagement.CalcBalance(Rec,xRec,Balance,TotalBalance,ShowBalance,ShowTotalBalance);
      BalanceVisible := ShowBalance;
      TotalBalanceVisible := ShowTotalBalance;
    END;

    LOCAL PROCEDURE CurrentJnlBatchNameOnAfterVali@19002411();
    BEGIN
      CurrPage.SAVERECORD;
      GenJnlManagement.SetName(CurrentJnlBatchName,Rec);
      CurrPage.UPDATE(false);
    END;

    LOCAL PROCEDURE ShowAmounts@8();
    VAR
      GLSetup@1000 : Record "General Ledger Setup";
    BEGIN
      GLSetup.GET;
      AmountVisible := not (GLSetup."Show Amounts" = GLSetup."Show Amounts"::"Debit/Credit Only");
      DebitCreditVisible := not (GLSetup."Show Amounts" = GLSetup."Show Amounts"::"Amount Only");
    END;

    BEGIN
    END.
  }
}

