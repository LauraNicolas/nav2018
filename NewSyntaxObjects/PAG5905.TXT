OBJECT Page 5905 Service Lines
{
  OBJECT-PROPERTIES
  {
    Date=20171006D;
    Time=120000T;
    Version List=NAVW111.0;
  }
  PROPERTIES
  {
    CaptionML=ENU=Service Lines;
    SourceTable="Service Line";
    DelayedInsert=true;
    PopulateAllFields=true;
    DataCaptionFields="Document Type","Document No.";
    PageType=Worksheet;
    AutoSplitKey=true;
    OnOpenPage=BEGIN
                 CLEAR(SelectionFilter);
                 SelectionFilter := SelectionFilter::"Lines per Selected Service Item";
                 SetSelectionFilter;

                 ServMgtSetup.GET;
                 case ServMgtSetup."Fault Reporting Level" of
                   ServMgtSetup."Fault Reporting Level"::None:
                     begin
                       FaultAreaCodeVisible := false;
                       SymptomCodeVisible := false;
                       FaultCodeVisible := false;
                       ResolutionCodeVisible := false;
                     end;
                   ServMgtSetup."Fault Reporting Level"::Fault:
                     begin
                       FaultAreaCodeVisible := false;
                       SymptomCodeVisible := false;
                       FaultCodeVisible := true;
                       ResolutionCodeVisible := true;
                     end;
                   ServMgtSetup."Fault Reporting Level"::"Fault+Symptom":
                     begin
                       FaultAreaCodeVisible := false;
                       SymptomCodeVisible := true;
                       FaultCodeVisible := true;
                       ResolutionCodeVisible := true;
                     end;
                   ServMgtSetup."Fault Reporting Level"::"Fault+Symptom+Area (IRIS)":
                     begin
                       FaultAreaCodeVisible := true;
                       SymptomCodeVisible := true;
                       FaultCodeVisible := true;
                       ResolutionCodeVisible := true;
                     end;
                 end;
               END;

    OnAfterGetRecord=BEGIN
                       ShowShortcutDimCode(ShortcutDimCode);
                     END;

    OnNewRecord=BEGIN
                  CLEAR(ShortcutDimCode);

                  if ServHeader.GET("Document Type","Document No.") then begin
                    if ServHeader."Link Service to Service Item" then
                      if SelectionFilter <> SelectionFilter::"Lines Not Item Related" then
                        VALIDATE("Service Item Line No.",ServItemLineNo)
                      else
                        VALIDATE("Service Item Line No.",0)
                    else
                      VALIDATE("Service Item Line No.",0);
                  end;
                END;

    OnInsertRecord=BEGIN
                     if not AddExtendedText then
                       "Line No." := GetNextLineNo(xRec,BelowxRec);
                   END;

    OnDeleteRecord=VAR
                     ReserveServLine@1000 : Codeunit "Service Line-Reserve";
                   BEGIN
                     if (Quantity <> 0) and ItemExists("No.") then begin
                       COMMIT;
                       if not ReserveServLine.DeleteLineConfirm(Rec) then
                         exit(false);
                       ReserveServLine.DeleteLine(Rec);
                     end;
                   END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      Name=ActionContainer1900000003;
                      ActionContainerType=RelatedInformation }
      { 148     ;1   ;ActionGroup;
                      Name=O&rder;
                      CaptionML=ENU=O&rder;
                      Image=Order }
      { 152     ;2   ;Action    ;
                      Name=Service Ledger E&ntries;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=ENU=Service Ledger E&ntries;
                      ToolTipML=ENU=View all the ledger entries for the service item or service order that result from posting transactions in service document.;
                      ApplicationArea=#Service;
                      RunObject=Page "Service Ledger Entries";
                      RunPageView=SORTING("Service Order No.","Service Item No. (Serviced)","Entry Type","Moved from Prepaid Acc.","Posting Date",Open,Type);
                      RunPageLink="Service Order No."=FIELD("Document No.");
                      Image=ServiceLedger }
      { 153     ;2   ;Action    ;
                      Name=&Warranty Ledger Entries;
                      CaptionML=ENU=&Warranty Ledger Entries;
                      ToolTipML=ENU=View all the ledger entries for the service item or service order that result from posting transactions in service documents that contain warranty agreements.;
                      ApplicationArea=#Service;
                      RunObject=Page "Warranty Ledger Entries";
                      RunPageView=SORTING("Service Order No.","Posting Date","Document No.");
                      RunPageLink="Service Order No."=FIELD("Document No.");
                      Image=WarrantyLedger }
      { 154     ;2   ;Action    ;
                      Name=&Job Ledger Entries;
                      CaptionML=ENU=&Job Ledger Entries;
                      ToolTipML=ENU=View all the job ledger entries that result from posting transactions in the service document that involve a job.;
                      ApplicationArea=#Jobs;
                      RunObject=Page "Job Ledger Entries";
                      RunPageView=SORTING("Service Order No.","Posting Date")
                                  WHERE("Entry Type"=CONST(Usage));
                      RunPageLink="Service Order No."=FIELD("Document No.");
                      Image=JobLedger }
      { 158     ;2   ;Action    ;
                      Name=&Customer Card;
                      ShortCutKey=Shift+F7;
                      CaptionML=ENU=&Customer Card;
                      ToolTipML=ENU=View detailed information about the customer.;
                      ApplicationArea=#Service;
                      RunObject=Page "Customer Card";
                      RunPageLink="No."=FIELD("Customer No.");
                      Image=Customer }
      { 162     ;2   ;Action    ;
                      Name=Co&mments;
                      CaptionML=ENU=Co&mments;
                      ToolTipML=ENU=View or add comments for the record.;
                      ApplicationArea=#Service;
                      RunObject=Page "Service Comment Sheet";
                      RunPageLink="Table Name"=CONST("Service Header"),
                                  "Table Subtype"=FIELD("Document Type"),
                                  "No."=FIELD("Document No."),
                                  Type=CONST(General);
                      Image=ViewComments }
      { 163     ;2   ;Action    ;
                      Name=S&hipments;
                      CaptionML=ENU=S&hipments;
                      ToolTipML=ENU=View related posted service shipments.;
                      ApplicationArea=#Service;
                      Image=Shipment;
                      OnAction=VAR
                                 ServShptHeader@1000 : Record "Service Shipment Header";
                               BEGIN
                                 ServShptHeader.RESET;
                                 ServShptHeader.FILTERGROUP(2);
                                 ServShptHeader.SETRANGE("Order No.","Document No.");
                                 ServShptHeader.FILTERGROUP(0);
                                 PAGE.RUNMODAL(0,ServShptHeader)
                               END;
                                }
      { 164     ;2   ;Action    ;
                      Name=Invoices;
                      CaptionML=ENU=Invoices;
                      ToolTipML=ENU=View a list of ongoing sales invoices for the order.;
                      ApplicationArea=#Service;
                      Image=Invoice;
                      OnAction=VAR
                                 ServInvHeader@1000 : Record "Service Invoice Header";
                               BEGIN
                                 ServInvHeader.RESET;
                                 ServInvHeader.FILTERGROUP(2);
                                 ServInvHeader.SETRANGE("Order No.","Document No.");
                                 ServInvHeader.FILTERGROUP(0);
                                 PAGE.RUNMODAL(0,ServInvHeader)
                               END;
                                }
      { 21      ;2   ;Action    ;
                      Name=Whse. Shipment Lines;
                      CaptionML=ENU=Whse. Shipment Lines;
                      ToolTipML=ENU=View ongoing warehouse shipments for the document, in advanced warehouse configurations.;
                      ApplicationArea=#Warehouse;
                      RunObject=Page "Whse. Shipment Lines";
                      RunPageView=SORTING("Source Type","Source Subtype","Source No.","Source Line No.");
                      RunPageLink="Source Type"=CONST(5902),
                                  "Source Subtype"=FIELD("Document Type"),
                                  "Source No."=FIELD("Document No.");
                      Image=ShipmentLines }
      { 109     ;1   ;ActionGroup;
                      Name=&Line;
                      CaptionML=ENU=&Line;
                      Image=Line }
      { 116     ;2   ;Action    ;
                      Name=Dimensions;
                      AccessByPermission=TableData Dimension=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=ENU=Dimensions;
                      ToolTipML=ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                      ApplicationArea=#Dimensions;
                      Image=Dimensions;
                      OnAction=BEGIN
                                 ShowDimensions;
                               END;
                                }
      { 110     ;2   ;ActionGroup;
                      Name=Item Availability by;
                      CaptionML=ENU=Item Availability by;
                      Image=ItemAvailability }
      { 5       ;3   ;Action    ;
                      Name=Event;
                      CaptionML=ENU=Event;
                      ToolTipML=ENU=View how the actual and the projected available balance of an item will develop over time according to supply and demand events.;
                      ApplicationArea=#Planning;
                      Image=Event;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromServLine(Rec,ItemAvailFormsMgt.ByEvent);
                                 CurrPage.UPDATE(true);
                               END;
                                }
      { 111     ;3   ;Action    ;
                      Name=Period;
                      CaptionML=ENU=Period;
                      ToolTipML=ENU=View the projected quantity of the item over time according to time periods, such as day, week, or month.;
                      ApplicationArea=#Planning;
                      Image=Period;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromServLine(Rec,ItemAvailFormsMgt.ByPeriod);
                                 CurrPage.UPDATE(true);
                               END;
                                }
      { 112     ;3   ;Action    ;
                      Name=Variant;
                      CaptionML=ENU=Variant;
                      ToolTipML=ENU=View or edit the item's variants. Instead of setting up each color of an item as a separate item, you can set up the various colors as variants of the item.;
                      ApplicationArea=#Advanced;
                      Image=ItemVariant;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromServLine(Rec,ItemAvailFormsMgt.ByVariant);
                                 CurrPage.UPDATE(true);
                               END;
                                }
      { 113     ;3   ;Action    ;
                      Name=Location;
                      AccessByPermission=TableData Location=R;
                      CaptionML=ENU=Location;
                      ToolTipML=ENU=View the actual and projected quantity of the item per location.;
                      ApplicationArea=#Location;
                      Image=Warehouse;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromServLine(Rec,ItemAvailFormsMgt.ByLocation);
                                 CurrPage.UPDATE(true);
                               END;
                                }
      { 23      ;3   ;Action    ;
                      Name=BOM Level;
                      CaptionML=ENU=BOM Level;
                      ToolTipML=ENU=View availability figures for items on bills of materials that show how many units of a parent item you can make based on the availability of child items.;
                      ApplicationArea=#Planning;
                      Image=BOMLevel;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromServLine(Rec,ItemAvailFormsMgt.ByBOM);
                                 CurrPage.UPDATE(true);
                               END;
                                }
      { 115     ;2   ;Action    ;
                      Name=ReservationEntries;
                      AccessByPermission=TableData Item=R;
                      CaptionML=ENU=Reservation Entries;
                      ToolTipML=ENU=View the entries for every reservation that is made, either manually or automatically.;
                      ApplicationArea=#Advanced;
                      Image=ReservationLedger;
                      OnAction=BEGIN
                                 ShowReservationEntries(true);
                               END;
                                }
      { 26      ;2   ;Action    ;
                      Name=ItemTrackingLines;
                      ShortCutKey=Shift+Ctrl+I;
                      CaptionML=ENU=Item &Tracking Lines;
                      ToolTipML=ENU=View or edit serial numbers and lot numbers that are assigned to the item on the document or journal line.;
                      ApplicationArea=#ItemTracking;
                      Image=ItemTrackingLines;
                      OnAction=BEGIN
                                 OpenItemTrackingLines;
                               END;
                                }
      { 17      ;2   ;Action    ;
                      Name=SelectItemSubstitution;
                      AccessByPermission=TableData "Item Substitution"=R;
                      CaptionML=ENU=Select Item Substitution;
                      ToolTipML=ENU=Select another item that has been set up to be traded instead of the original item if it is unavailable.;
                      ApplicationArea=#Advanced;
                      Image=SelectItemSubstitution;
                      OnAction=BEGIN
                                 CurrPage.SAVERECORD;
                                 ShowItemSub;
                                 CurrPage.UPDATE(true);
                                 AutoReserve;
                               END;
                                }
      { 133     ;2   ;Action    ;
                      Name=&Fault/Resol. Codes Relationships;
                      CaptionML=ENU=&Fault/Resol. Codes Relationships;
                      ToolTipML=ENU=View or edit the relationships between fault codes, including the fault, fault area, and symptom codes, as well as resolution codes and service item groups. It displays the existing combinations of these codes for the service item group of the service item from which you accessed the window and the number of occurrences for each one.;
                      ApplicationArea=#Service;
                      Image=FaultDefault;
                      OnAction=BEGIN
                                 SelectFaultResolutionCode;
                               END;
                                }
      { 185     ;2   ;Action    ;
                      Name=Order &Promising;
                      AccessByPermission=TableData "Order Promising Line"=R;
                      CaptionML=ENU=Order &Promising;
                      ToolTipML=ENU=Calculate the shipment and delivery dates based on the item's known and expected availability dates, and then promise the dates to the customer.;
                      ApplicationArea=#Planning;
                      Image=OrderPromising;
                      OnAction=BEGIN
                                 ShowOrderPromisingLine;
                               END;
                                }
      { 1900000004;0 ;ActionContainer;
                      Name=ActionContainer1900000004;
                      ActionContainerType=ActionItems }
      { 94      ;1   ;ActionGroup;
                      Name=F&unctions;
                      CaptionML=ENU=F&unctions;
                      Image=Action }
      { 97      ;2   ;Action    ;
                      Name=Insert &Ext. Texts;
                      AccessByPermission=TableData "Extended Text Header"=R;
                      CaptionML=ENU=Insert &Ext. Texts;
                      ToolTipML=ENU=Insert the extended item description that is set up for the item that is being processed on the line.;
                      ApplicationArea=#Service;
                      Image=Text;
                      OnAction=BEGIN
                                 InsertExtendedText(true);
                               END;
                                }
      { 98      ;2   ;Action    ;
                      Name=Insert &Starting Fee;
                      CaptionML=ENU=Insert &Starting Fee;
                      ApplicationArea=#Service;
                      Image=InsertStartingFee;
                      OnAction=BEGIN
                                 InsertStartFee;
                               END;
                                }
      { 16      ;2   ;Action    ;
                      Name=Insert &Travel Fee;
                      CaptionML=ENU=Insert &Travel Fee;
                      ApplicationArea=#Service;
                      Image=InsertTravelFee;
                      OnAction=BEGIN
                                 InsertTravelFee;
                               END;
                                }
      { 99      ;2   ;Action    ;
                      Name=S&plit Resource Line;
                      CaptionML=ENU=S&plit Resource Line;
                      ApplicationArea=#Service;
                      Image=Split;
                      OnAction=BEGIN
                                 SplitResourceLine;
                               END;
                                }
      { 114     ;2   ;Action    ;
                      Name=Reserve;
                      CaptionML=ENU=&Reserve;
                      ToolTipML=ENU=Reserve the quantity that is required on the document line that you opened this window for.;
                      ApplicationArea=#Service;
                      Image=Reserve;
                      OnAction=BEGIN
                                 ShowReservation;
                               END;
                                }
      { 183     ;2   ;Action    ;
                      Name=Order &Tracking;
                      CaptionML=ENU=Order &Tracking;
                      ToolTipML=ENU=Tracks the connection of a supply to its corresponding demand. This can help you find the original demand that created a specific production order or purchase order.;
                      ApplicationArea=#Service;
                      Image=OrderTracking;
                      OnAction=BEGIN
                                 ShowTracking;
                               END;
                                }
      { 27      ;2   ;Action    ;
                      Name=Nonstoc&k Items;
                      AccessByPermission=TableData "Nonstock Item"=R;
                      CaptionML=ENU=Nonstoc&k Items;
                      ToolTipML=ENU="View the list of items that you do not carry in inventory. ";
                      ApplicationArea=#Service;
                      Image=NonStockItem;
                      OnAction=BEGIN
                                 ShowNonstock;
                                 CurrPage.UPDATE;
                               END;
                                }
      { 9       ;2   ;Action    ;
                      Name=&Create Lines from Time Sheets;
                      CaptionML=ENU=&Create Lines from Time Sheets;
                      ToolTipML=ENU=Insert service lines according to an existing time sheet.;
                      ApplicationArea=#Service;
                      Image=CreateLinesFromTimesheet;
                      OnAction=VAR
                                 TimeSheetMgt@1000 : Codeunit "Time Sheet Management";
                               BEGIN
                                 if CONFIRM(Text012,true) then begin
                                   ServHeader.GET("Document Type","Document No.");
                                   TimeSheetMgt.CreateServDocLinesFromTS(ServHeader);
                                 end;
                               END;
                                }
      { 25      ;1   ;ActionGroup;
                      Name=Price/Discount;
                      CaptionML=ENU=Price/Discount;
                      Image=Price }
      { 172     ;2   ;Action    ;
                      Name=Get Price;
                      CaptionML=ENU=Get Price;
                      ToolTipML=ENU=Insert the lowest possible price in the Unit Price field according to any special price that you have set up.;
                      ApplicationArea=#Service;
                      Image=Price;
                      OnAction=BEGIN
                                 ShowPrices;
                                 CurrPage.UPDATE;
                               END;
                                }
      { 96      ;2   ;Action    ;
                      Name=Adjust Service Price;
                      CaptionML=ENU=Adjust Service Price;
                      ToolTipML=ENU=Adjust existing service prices according to changed costs, spare parts, and resource hours. Note that prices are not adjusted for service items that belong to service contracts, service items with a warranty, items service on lines that are partially or fully invoiced. When you run the service price adjustment, all discounts in the order are replaced by the values of the service price adjustment.;
                      ApplicationArea=#Service;
                      Image=PriceAdjustment;
                      OnAction=VAR
                                 ServPriceMgmt@1001 : Codeunit "Service Price Management";
                               BEGIN
                                 ServItemLine.GET("Document Type","Document No.",ServItemLineNo);
                                 ServPriceMgmt.ShowPriceAdjustment(ServItemLine);
                               END;
                                }
      { 44      ;2   ;Action    ;
                      Name=Undo Price Adjustment;
                      CaptionML=ENU=Undo Price Adjustment;
                      ApplicationArea=#Service;
                      Image=Undo;
                      OnAction=VAR
                                 ServPriceMgmt@1000 : Codeunit "Service Price Management";
                               BEGIN
                                 if CONFIRM(Text011,false) then begin
                                   ServPriceMgmt.CheckServItemGrCode(Rec);
                                   ServPriceMgmt.ResetAdjustedLines(Rec);
                                 end;
                               END;
                                }
      { 173     ;2   ;Action    ;
                      Name=Get Li&ne Discount;
                      AccessByPermission=TableData "Sales Line Discount"=R;
                      CaptionML=ENU=Get Li&ne Discount;
                      ToolTipML=ENU=Insert the best possible discount in the Line Discount field according to any special discounts that you have set up.;
                      ApplicationArea=#Service;
                      Image=LineDiscount;
                      OnAction=BEGIN
                                 ShowLineDisc;
                                 CurrPage.UPDATE;
                               END;
                                }
      { 147     ;2   ;Action    ;
                      Name=Calculate Invoice Discount;
                      CaptionML=ENU=Calculate &Invoice Discount;
                      ToolTipML=ENU=Calculate the invoice discount that applies to the service order.;
                      ApplicationArea=#Service;
                      Image=CalculateInvoiceDiscount;
                      OnAction=BEGIN
                                 CODEUNIT.RUN(CODEUNIT::"Service-Disc. (Yes/No)",Rec);
                               END;
                                }
      { 79      ;1   ;ActionGroup;
                      Name=P&osting;
                      CaptionML=ENU=P&osting;
                      Image=Post }
      { 93      ;2   ;Action    ;
                      Name=Post;
                      ShortCutKey=F9;
                      CaptionML=ENU=P&ost;
                      ToolTipML=ENU=Finalize the document or journal by posting the amounts and quantities to the related accounts in your company books.;
                      ApplicationArea=#Service;
                      Promoted=true;
                      PromotedIsBig=true;
                      Image=PostOrder;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 ServLine@1001 : Record "Service Line";
                                 TempServLine@1007 : TEMPORARY Record "Service Line";
                                 ServPostYesNo@1008 : Codeunit "Service-Post (Yes/No)";
                               BEGIN
                                 CLEAR(ServLine);
                                 MODIFY(true);
                                 CurrPage.SAVERECORD;
                                 CurrPage.SETSELECTIONFILTER(ServLine);

                                 if ServLine.FINDFIRST then
                                   repeat
                                     TempServLine.INIT;
                                     TempServLine := ServLine;
                                     TempServLine.INSERT;
                                   until ServLine.NEXT = 0
                                 else
                                   exit;

                                 ServHeader.GET("Document Type","Document No.");
                                 CLEAR(ServPostYesNo);
                                 ServPostYesNo.PostDocumentWithLines(ServHeader,TempServLine);

                                 ServLine.SETRANGE("Document Type",ServHeader."Document Type");
                                 ServLine.SETRANGE("Document No.",ServHeader."No.");
                                 if not ServLine.FIND('-') then begin
                                   RESET;
                                   CurrPage.CLOSE;
                                 end else
                                   CurrPage.UPDATE;
                               END;
                                }
      { 29      ;2   ;Action    ;
                      Name=Preview;
                      CaptionML=ENU=Preview Posting;
                      ToolTipML=ENU=Review the different types of entries that will be created when you post the document or journal.;
                      ApplicationArea=#Service;
                      Image=ViewPostedOrder;
                      OnAction=VAR
                                 ServLine@1002 : Record "Service Line";
                                 TempServLine@1001 : TEMPORARY Record "Service Line";
                                 ServPostYesNo@1000 : Codeunit "Service-Post (Yes/No)";
                               BEGIN
                                 CLEAR(ServLine);
                                 CurrPage.SAVERECORD;
                                 CurrPage.SETSELECTIONFILTER(ServLine);

                                 if ServLine.FINDFIRST then
                                   repeat
                                     TempServLine.INIT;
                                     TempServLine := ServLine;
                                     if TempServLine.INSERT then;
                                   until NEXT = 0
                                 else
                                   exit;

                                 ServHeader.GET("Document Type","Document No.");
                                 ServPostYesNo.PreviewDocumentWithLines(ServHeader,TempServLine);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                Name=Container1900000001;
                ContainerType=ContentArea }

    { 107 ;1   ;Field     ;
                Name=SelectionFilter;
                CaptionML=ENU=Service Lines Filter;
                ToolTipML=ENU=Specifies a service line filter.;
                OptionCaptionML=ENU=All,Per Selected Service Item Line,Service Item Line Non-Related;
                ApplicationArea=#Service;
                SourceExpr=SelectionFilter;
                OnValidate=BEGIN
                             SelectionFilterOnAfterValidate;
                           END;

                ImplicitType=Option }

    { 1   ;1   ;Group     ;
                Name=Group1;
                GroupType=Repeater }

    { 4   ;2   ;Field     ;
                Name=Service Item Line No.;
                ToolTipML=ENU=Specifies the service item line number linked to this service line.;
                ApplicationArea=#Service;
                SourceExpr="Service Item Line No.";
                Visible=FALSE;
                ImplicitType=Integer }

    { 6   ;2   ;Field     ;
                Name=Service Item No.;
                ToolTipML=ENU=Specifies the service item number linked to this service line.;
                ApplicationArea=#Service;
                SourceExpr="Service Item No.";
                ImplicitType=Code20 }

    { 70  ;2   ;Field     ;
                Name=Service Item Serial No.;
                ToolTipML=ENU=Specifies the service item serial number linked to this line.;
                ApplicationArea=#ItemTracking;
                SourceExpr="Service Item Serial No.";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 22  ;2   ;Field     ;
                Name=Service Item Line Description;
                DrillDown=false;
                ToolTipML=ENU=Specifies the description of the service item line in the service order.;
                ApplicationArea=#Service;
                SourceExpr="Service Item Line Description";
                Visible=FALSE;
                ImplicitType=Text50 }

    { 8   ;2   ;Field     ;
                Name=Type;
                ToolTipML=ENU=Specifies the type of the service line.;
                ApplicationArea=#Service;
                SourceExpr=Type;
                OnValidate=BEGIN
                             NoOnAfterValidate;
                           END;

                ImplicitType=Option }

    { 10  ;2   ;Field     ;
                Name=No.;
                ToolTipML=ENU=Specifies the number of an item, general ledger account, resource code, cost, or standard text.;
                ApplicationArea=#Service;
                SourceExpr="No.";
                OnValidate=BEGIN
                             NoOnAfterValidate;
                           END;

                ImplicitType=Code20 }

    { 138 ;2   ;Field     ;
                Name=Variant Code;
                ToolTipML=ENU=Specifies the variant of the item on the line.;
                ApplicationArea=#Advanced;
                SourceExpr="Variant Code";
                Visible=FALSE;
                ImplicitType=Code10 }

    { 131 ;2   ;Field     ;
                Name=Nonstock;
                ToolTipML=ENU=Specifies that the item is a nonstock item.;
                ApplicationArea=#Service;
                SourceExpr=Nonstock;
                Visible=FALSE;
                ImplicitType=Boolean }

    { 140 ;2   ;Field     ;
                Name=Substitution Available;
                ToolTipML=ENU=Specifies whether a substitute is available for the item.;
                ApplicationArea=#Service;
                SourceExpr="Substitution Available";
                Visible=FALSE;
                ImplicitType=Boolean }

    { 12  ;2   ;Field     ;
                Name=Description;
                ToolTipML=ENU=Specifies the description of an item, resource, cost, or a standard text on the line.;
                ApplicationArea=#Service;
                SourceExpr=Description;
                ImplicitType=Text50 }

    { 14  ;2   ;Field     ;
                Name=Description 2;
                ToolTipML=ENU=Specifies an additional description of the item, resource, or cost.;
                ApplicationArea=#Service;
                SourceExpr="Description 2";
                Visible=FALSE;
                ImplicitType=Text50 }

    { 32  ;2   ;Field     ;
                Name=Location Code;
                ToolTipML=ENU=Specifies the inventory location from where the items on the line should be taken and where they should be registered.;
                ApplicationArea=#Location;
                SourceExpr="Location Code";
                OnValidate=BEGIN
                             LocationCodeOnAfterValidate;
                           END;

                ImplicitType=Code10 }

    { 45  ;2   ;Field     ;
                Name=Bin Code;
                ToolTipML=ENU=Specifies the bin where the items are picked or put away.;
                ApplicationArea=#Warehouse;
                SourceExpr="Bin Code";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 134 ;2   ;Field     ;
                Name=Reserve;
                ToolTipML=ENU=Specifies whether a reservation can be made for items on this line.;
                ApplicationArea=#Service;
                SourceExpr=Reserve;
                Visible=FALSE;
                ImplicitType=Option }

    { 24  ;2   ;Field     ;
                Name=Quantity;
                ToolTipML=ENU=Specifies the number of item units, resource hours, cost on the service line.;
                ApplicationArea=#Service;
                DecimalPlaces=0:5;
                BlankZero=true;
                SourceExpr=Quantity;
                OnValidate=BEGIN
                             QuantityOnAfterValidate;
                           END;

                ImplicitType=Decimal }

    { 143 ;2   ;Field     ;
                Name=Reserved Quantity;
                ToolTipML=ENU=Specifies how many item units on this line have been reserved.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Reserved Quantity";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 126 ;2   ;Field     ;
                Name=Unit of Measure Code;
                ToolTipML=ENU=Specifies how each unit of the item or resource is measured, such as in pieces or hours. By default, the value in the Base Unit of Measure field on the item or resource card is inserted.;
                ApplicationArea=#Service;
                SourceExpr="Unit of Measure Code";
                ImplicitType=Code10 }

    { 58  ;2   ;Field     ;
                Name=Unit Cost (LCY);
                ToolTipML=ENU=Specifies the cost per item unit, resource, or cost on the line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Unit Cost (LCY)";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 34  ;2   ;Field     ;
                Name=Unit Price;
                ToolTipML=ENU=Specifies the price per item unit, resource, or cost on the line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Unit Price";
                ImplicitType=Decimal }

    { 56  ;2   ;Field     ;
                Name=Line Amount;
                ToolTipML=ENU=Specifies the net amount, excluding any invoice discount amount, that must be paid for products on the line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Line Amount";
                ImplicitType=Decimal }

    { 36  ;2   ;Field     ;
                Name=Line Discount %;
                ToolTipML=ENU=Specifies the discount percentage that is granted for the item on the line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Line Discount %";
                ImplicitType=Decimal }

    { 38  ;2   ;Field     ;
                Name=Line Discount Amount;
                ToolTipML=ENU=Specifies the discount amount that is granted for the item on the line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Line Discount Amount";
                ImplicitType=Decimal }

    { 52  ;2   ;Field     ;
                Name=Line Discount Type;
                ToolTipML=ENU=Specifies the type of the line discount assigned to this line.;
                ApplicationArea=#Service;
                SourceExpr="Line Discount Type";
                ImplicitType=Option }

    { 101 ;2   ;Field     ;
                Name=Qty. to Ship;
                ToolTipML=ENU=Specifies the quantity of items that remain to be shipped.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Qty. to Ship";
                ImplicitType=Decimal }

    { 136 ;2   ;Field     ;
                Name=Quantity Shipped;
                ToolTipML=ENU=Specifies how many units of the item on the line have been posted as shipped.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Quantity Shipped";
                ImplicitType=Decimal }

    { 55  ;2   ;Field     ;
                Name=Qty. to Invoice;
                ToolTipML=ENU=Specifies the quantity of the items, resources, costs, or general ledger account payments, which should be invoiced.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Qty. to Invoice";
                ImplicitType=Decimal }

    { 145 ;2   ;Field     ;
                Name=Quantity Invoiced;
                ToolTipML=ENU=Specifies how many units of the item on the line have been posted as invoiced.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Quantity Invoiced";
                ImplicitType=Decimal }

    { 124 ;2   ;Field     ;
                Name=Qty. to Consume;
                ToolTipML=ENU=Specifies the quantity of items, resource hours, costs, or G/L account payments that should be consumed.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Qty. to Consume";
                ImplicitType=Decimal }

    { 130 ;2   ;Field     ;
                Name=Quantity Consumed;
                ToolTipML=ENU=Specifies the quantity of items, resource hours, costs, or general ledger account payments on this line, which have been posted as consumed.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Quantity Consumed";
                ImplicitType=Decimal }

    { 7   ;2   ;Field     ;
                Name=Job Remaining Qty.;
                ToolTipML=ENU=Specifies the quantity that remains to complete a job.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Job Remaining Qty.";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 19  ;2   ;Field     ;
                Name=Job Remaining Total Cost;
                ToolTipML=ENU=Specifies the remaining total cost, as the sum of costs from job planning lines associated with the order.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Job Remaining Total Cost";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 15  ;2   ;Field     ;
                Name=Job Remaining Total Cost (LCY);
                ToolTipML=ENU=Specifies the remaining total cost for the job planning line associated with the service order.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Job Remaining Total Cost (LCY)";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 13  ;2   ;Field     ;
                Name=Job Remaining Line Amount;
                ToolTipML=ENU=Specifies the net amount of the job planning line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Job Remaining Line Amount";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 18  ;2   ;Field     ;
                Name=Work Type Code;
                ToolTipML=ENU=Specifies a code for the type of work performed by the resource registered on this line.;
                ApplicationArea=#Service;
                SourceExpr="Work Type Code";
                Visible=FALSE;
                ImplicitType=Code10 }

    { 28  ;2   ;Field     ;
                Name=Fault Reason Code;
                ToolTipML=ENU=Specifies the code of the fault reason for this service line.;
                ApplicationArea=#Service;
                SourceExpr="Fault Reason Code";
                Visible=FALSE;
                ImplicitType=Code10 }

    { 20  ;2   ;Field     ;
                Name=Fault Area Code;
                ToolTipML=ENU=Specifies the code of the fault area associated with this line.;
                ApplicationArea=#Service;
                SourceExpr="Fault Area Code";
                Visible=FaultAreaCodeVisible;
                ImplicitType=Code10 }

    { 60  ;2   ;Field     ;
                Name=Symptom Code;
                ToolTipML=ENU=Specifies the code of the symptom associated with this line.;
                ApplicationArea=#Service;
                SourceExpr="Symptom Code";
                Visible=SymptomCodeVisible;
                ImplicitType=Code10 }

    { 76  ;2   ;Field     ;
                Name=Fault Code;
                ToolTipML=ENU=Specifies the code of the fault associated with this line.;
                ApplicationArea=#Service;
                SourceExpr="Fault Code";
                Visible=FaultCodeVisible;
                ImplicitType=Code10 }

    { 119 ;2   ;Field     ;
                Name=Resolution Code;
                ToolTipML=ENU=Specifies the code of the resolution associated with this line.;
                ApplicationArea=#Service;
                SourceExpr="Resolution Code";
                Visible=ResolutionCodeVisible;
                ImplicitType=Code10 }

    { 121 ;2   ;Field     ;
                Name=Serv. Price Adjmt. Gr. Code;
                ToolTipML=ENU=Specifies the service price adjustment group code that applies to this line.;
                ApplicationArea=#Service;
                SourceExpr="Serv. Price Adjmt. Gr. Code";
                Visible=FALSE;
                ImplicitType=Code10 }

    { 2   ;2   ;Field     ;
                Name=Allow Invoice Disc.;
                ToolTipML=ENU=Specifies if the invoice line is included when the invoice discount is calculated.;
                ApplicationArea=#Service;
                SourceExpr="Allow Invoice Disc.";
                Visible=FALSE;
                ImplicitType=Boolean }

    { 49  ;2   ;Field     ;
                Name=Inv. Discount Amount;
                ToolTipML=ENU=Specifies the invoice discount amount for the line.;
                ApplicationArea=#Service;
                SourceExpr="Inv. Discount Amount";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 30  ;2   ;Field     ;
                Name=Exclude Warranty;
                ToolTipML=ENU=Specifies that the warranty discount is excluded on this line.;
                ApplicationArea=#Service;
                SourceExpr="Exclude Warranty";
                ImplicitType=Boolean }

    { 117 ;2   ;Field     ;
                Name=Exclude Contract Discount;
                ToolTipML=ENU=Specifies that the contract discount is excluded for the item, resource, or cost on this line.;
                ApplicationArea=#Service;
                SourceExpr="Exclude Contract Discount";
                ImplicitType=Boolean }

    { 46  ;2   ;Field     ;
                Name=Warranty;
                ToolTipML=ENU=Specifies that a warranty discount is available on this line of type Item or Resource.;
                ApplicationArea=#Service;
                SourceExpr=Warranty;
                ImplicitType=Boolean }

    { 50  ;2   ;Field     ;
                Name=Warranty Disc. %;
                ToolTipML=ENU=Specifies the percentage of the warranty discount that is valid for the items or resources on this line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Warranty Disc. %";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 40  ;2   ;Field     ;
                Name=Contract No.;
                ToolTipML=ENU=Specifies the number of the contract, if the service order originated from a service contract.;
                ApplicationArea=#Service;
                SourceExpr="Contract No.";
                Editable=FALSE;
                ImplicitType=Code20 }

    { 42  ;2   ;Field     ;
                Name=Contract Disc. %;
                ToolTipML=ENU=Specifies the contract discount percentage that is valid for the items, resources, and costs on this line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Contract Disc. %";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 100 ;2   ;Field     ;
                Name=VAT %;
                ToolTipML=ENU=Specifies the VAT percentage used to calculate Amount Including VAT on this line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="VAT %";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 105 ;2   ;Field     ;
                Name=VAT Base Amount;
                ToolTipML=ENU=Specifies the amount that serves as a base for calculating Amount Including VAT.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="VAT Base Amount";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 103 ;2   ;Field     ;
                Name=Amount Including VAT;
                ToolTipML=ENU=Specifies the net amount, including VAT, for this line.;
                ApplicationArea=#Service;
                BlankZero=true;
                SourceExpr="Amount Including VAT";
                Visible=FALSE;
                ImplicitType=Decimal }

    { 62  ;2   ;Field     ;
                Name=Gen. Bus. Posting Group;
                ToolTipML=ENU=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.;
                ApplicationArea=#Service;
                SourceExpr="Gen. Bus. Posting Group";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 64  ;2   ;Field     ;
                Name=Gen. Prod. Posting Group;
                ToolTipML=ENU=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.;
                ApplicationArea=#Service;
                SourceExpr="Gen. Prod. Posting Group";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 66  ;2   ;Field     ;
                Name=Posting Group;
                ToolTipML=ENU=Specifies the inventory posting group assigned to the item.;
                ApplicationArea=#Service;
                SourceExpr="Posting Group";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 3   ;2   ;Field     ;
                Name=Planned Delivery Date;
                ToolTipML=ENU=Specifies the planned date that the shipment will be delivered at the customer's address.  If the customer requests a delivery date, the program calculates whether the items will be available for delivery on this date. If the items are available, the planned delivery date will be the same as the requested delivery date. If not, the program calculates the date that the items are available for delivery and enters this date in the Planned Delivery Date field.;
                ApplicationArea=#Service;
                SourceExpr="Planned Delivery Date";
                ImplicitType=Date }

    { 159 ;2   ;Field     ;
                Name=Needed by Date;
                ToolTipML=ENU=Specifies the date when you require the item to be available for a service order.;
                ApplicationArea=#Service;
                SourceExpr="Needed by Date";
                ImplicitType=Date }

    { 68  ;2   ;Field     ;
                Name=Posting Date;
                ToolTipML=ENU=Specifies the date when the service line should be posted.;
                ApplicationArea=#Service;
                SourceExpr="Posting Date";
                OnValidate=BEGIN
                             PostingDateOnAfterValidate;
                           END;

                ImplicitType=Date }

    { 174 ;2   ;Field     ;
                Name=Job No.;
                ToolTipML=ENU=Specifies the number of the related job.;
                ApplicationArea=#Service;
                SourceExpr="Job No.";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 176 ;2   ;Field     ;
                Name=Job Task No.;
                ToolTipML=ENU=Specifies the number of the related job task.;
                ApplicationArea=#Service;
                SourceExpr="Job Task No.";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 11  ;2   ;Field     ;
                Name=Job Planning Line No.;
                ToolTipML=ENU=Specifies the job planning line number associated with this line. This establishes a link that can be used to calculate actual usage.;
                ApplicationArea=#Service;
                SourceExpr="Job Planning Line No.";
                Visible=FALSE;
                ImplicitType=Integer }

    { 178 ;2   ;Field     ;
                Name=Job Line Type;
                ToolTipML=ENU=Specifies the type of journal line that is created in the Job Planning Line table from this line.;
                ApplicationArea=#Service;
                SourceExpr="Job Line Type";
                Visible=FALSE;
                ImplicitType=Option }

    { 72  ;2   ;Field     ;
                Name=Shortcut Dimension 1 Code;
                ToolTipML=ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 74  ;2   ;Field     ;
                Name=Shortcut Dimension 2 Code;
                ToolTipML=ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=FALSE;
                ImplicitType=Code20 }

    { 81  ;2   ;Field     ;
                Name=ShortcutDimCode[3];
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[3];
                CaptionClass='1,2,3';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(3),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(3,ShortcutDimCode[3]);
                           END;
                            }

    { 83  ;2   ;Field     ;
                Name=ShortcutDimCode[4];
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[4];
                CaptionClass='1,2,4';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(4),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(4,ShortcutDimCode[4]);
                           END;
                            }

    { 85  ;2   ;Field     ;
                Name=ShortcutDimCode[5];
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[5];
                CaptionClass='1,2,5';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(5),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(5,ShortcutDimCode[5]);
                           END;
                            }

    { 87  ;2   ;Field     ;
                Name=ShortcutDimCode[6];
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[6];
                CaptionClass='1,2,6';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(6),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(6,ShortcutDimCode[6]);
                           END;
                            }

    { 89  ;2   ;Field     ;
                Name=ShortcutDimCode[7];
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[7];
                CaptionClass='1,2,7';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(7),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(7,ShortcutDimCode[7]);
                           END;
                            }

    { 91  ;2   ;Field     ;
                Name=ShortcutDimCode[8];
                ApplicationArea=#Dimensions;
                SourceExpr=ShortcutDimCode[8];
                CaptionClass='1,2,8';
                TableRelation="Dimension Value".Code WHERE ("Global Dimension No."=CONST(8),
                                                            "Dimension Value Type"=CONST(Standard),
                                                            Blocked=CONST(false));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(8,ShortcutDimCode[8]);
                           END;
                            }

    { 1900000007;0;Container;
                Name=Container1900000007;
                ContainerType=FactBoxArea }

    { 1904739907;1;Part   ;
                Name=Part1904739907;
                ApplicationArea=#Service;
                SubPageLink="Document Type"=FIELD("Document Type"),
                            "Document No."=FIELD("Document No."),
                            "Line No."=FIELD("Line No.");
                PagePartID="Service Line FactBox";
                Visible=FALSE;
                PartType=Page }

    { 1900383207;1;Part   ;
                Name=Part1900383207;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Name=Part1905767507;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      Text008@1008 : TextConst 'ENU=You cannot open the window because %1 is %2 in the %3 table.';
      ServMgtSetup@1023 : Record "Service Mgt. Setup";
      ServHeader@1009 : Record "Service Header";
      ServItemLine@1011 : Record "Service Item Line";
      SalesPriceCalcMgt@1001 : Codeunit "Sales Price Calc. Mgt.";
      ItemAvailFormsMgt@1002 : Codeunit "Item Availability Forms Mgt";
      ShortcutDimCode@1020 : ARRAY [8] OF Code[20];
      ServItemLineNo@1021 : Integer;
      SelectionFilter@1022 : '"All Service Lines","Lines per Selected Service Item","Lines Not Item Related"';
      Text011@1012 : TextConst 'ENU=This will reset all price adjusted lines to default values. Do you want to continue?';
      FaultAreaCodeVisible@19067961 : Boolean INDATASET;
      SymptomCodeVisible@19078417 : Boolean INDATASET;
      FaultCodeVisible@19037502 : Boolean INDATASET;
      ResolutionCodeVisible@19021279 : Boolean INDATASET;
      Text012@1000 : TextConst 'ENU=Do you want to create service lines from time sheets?';
      AddExtendedText@1003 : Boolean;

    [External]
    PROCEDURE CalcInvDisc@3(VAR ServLine@1000 : Record "Service Line");
    BEGIN
      CODEUNIT.RUN(CODEUNIT::"Service-Calc. Discount",ServLine);
    END;

    [External]
    PROCEDURE Initialize@5(ServItemLine@1000 : Integer);
    BEGIN
      ServItemLineNo := ServItemLine;
    END;

    [External]
    PROCEDURE SetSelectionFilter@2();
    BEGIN
      case SelectionFilter of
        SelectionFilter::"All Service Lines":
          SETRANGE("Service Item Line No.");
        SelectionFilter::"Lines per Selected Service Item":
          SETRANGE("Service Item Line No.",ServItemLineNo);
        SelectionFilter::"Lines Not Item Related":
          SETRANGE("Service Item Line No.",0);
      end;
      CurrPage.UPDATE(false);
    END;

    LOCAL PROCEDURE InsertExtendedText@7(Unconditionally@1000 : Boolean);
    VAR
      TransferExtendedText@1001 : Codeunit "Transfer Extended Text";
    BEGIN
      if TransferExtendedText.ServCheckIfAnyExtText(Rec,Unconditionally) then begin
        AddExtendedText := true;
        CurrPage.SAVERECORD;
        AddExtendedText := false;
        TransferExtendedText.InsertServExtText(Rec);
      end;
      if TransferExtendedText.MakeUpdate then
        CurrPage.UPDATE;
    END;

    LOCAL PROCEDURE InsertStartFee@8();
    VAR
      ServOrderMgt@1000 : Codeunit ServOrderManagement;
    BEGIN
      CLEAR(ServOrderMgt);
      if ServOrderMgt.InsertServCost(Rec,1,false) then
        CurrPage.UPDATE;
    END;

    LOCAL PROCEDURE InsertTravelFee@6();
    VAR
      ServOrderMgt@1000 : Codeunit ServOrderManagement;
    BEGIN
      CLEAR(ServOrderMgt);
      if ServOrderMgt.InsertServCost(Rec,0,false) then
        CurrPage.UPDATE;
    END;

    LOCAL PROCEDURE SelectFaultResolutionCode@15();
    VAR
      ServSetup@1000 : Record "Service Mgt. Setup";
      FaultResolutionRelation@1001 : Page "Fault/Resol. Cod. Relationship";
    BEGIN
      ServSetup.GET;
      case ServSetup."Fault Reporting Level" of
        ServSetup."Fault Reporting Level"::None:
          ERROR(
            Text008,
            ServSetup.FIELDCAPTION("Fault Reporting Level"),
            ServSetup."Fault Reporting Level",ServSetup.TABLECAPTION);
      end;
      ServItemLine.GET("Document Type","Document No.","Service Item Line No.");
      CLEAR(FaultResolutionRelation);
      FaultResolutionRelation.SetDocument(DATABASE::"Service Line","Document Type","Document No.","Line No.");
      FaultResolutionRelation.SetFilters("Symptom Code","Fault Code","Fault Area Code",ServItemLine."Service Item Group Code");
      FaultResolutionRelation.RUNMODAL;
      CurrPage.UPDATE(false);
    END;

    LOCAL PROCEDURE ShowPrices@4();
    BEGIN
      ServHeader.GET("Document Type","Document No.");
      CLEAR(SalesPriceCalcMgt);
      SalesPriceCalcMgt.GetServLinePrice(ServHeader,Rec);
    END;

    LOCAL PROCEDURE ShowLineDisc@16();
    BEGIN
      ServHeader.GET("Document Type","Document No.");
      CLEAR(SalesPriceCalcMgt);
      SalesPriceCalcMgt.GetServLineLineDisc(ServHeader,Rec);
    END;

    LOCAL PROCEDURE NoOnAfterValidate@19066594();
    BEGIN
      InsertExtendedText(false);

      if (Reserve = Reserve::Always) and
         ("Outstanding Qty. (Base)" <> 0) and
         ("No." <> xRec."No.")
      then begin
        CurrPage.SAVERECORD;
        AutoReserve;
        CurrPage.UPDATE(false);
      end;
    END;

    LOCAL PROCEDURE LocationCodeOnAfterValidate@19034787();
    BEGIN
      if (Reserve = Reserve::Always) and
         ("Outstanding Qty. (Base)" <> 0) and
         ("Location Code" <> xRec."Location Code")
      then begin
        CurrPage.SAVERECORD;
        AutoReserve;
      end;
      CurrPage.UPDATE(true);
    END;

    LOCAL PROCEDURE QuantityOnAfterValidate@19032465();
    VAR
      UpdateIsDone@1000 : Boolean;
    BEGIN
      if Type = Type::Item then
        case Reserve of
          Reserve::Always:
            begin
              CurrPage.SAVERECORD;
              AutoReserve;
              CurrPage.UPDATE(false);
              UpdateIsDone := true;
            end;
          Reserve::Optional:
            if (Quantity < xRec.Quantity) and (xRec.Quantity > 0) then begin
              CurrPage.SAVERECORD;
              CurrPage.UPDATE(false);
              UpdateIsDone := true;
            end;
        end;

      if (Type = Type::Item) and
         ((Quantity <> xRec.Quantity) or ("Line No." = 0)) and
         not UpdateIsDone
      then
        CurrPage.UPDATE(true);
    END;

    LOCAL PROCEDURE PostingDateOnAfterValidate@19003005();
    BEGIN
      if (Reserve = Reserve::Always) and
         ("Outstanding Qty. (Base)" <> 0) and
         ("Posting Date" <> xRec."Posting Date")
      then begin
        CurrPage.SAVERECORD;
        AutoReserve;
        CurrPage.UPDATE(false);
      end;
    END;

    LOCAL PROCEDURE SelectionFilterOnAfterValidate@19033692();
    BEGIN
      CurrPage.UPDATE;
      SetSelectionFilter;
    END;

    BEGIN
    END.
  }
}

